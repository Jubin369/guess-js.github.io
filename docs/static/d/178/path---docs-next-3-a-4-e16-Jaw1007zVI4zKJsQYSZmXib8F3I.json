{"data":{"markdownRemark":{"html":"<p>Next.js is a lightweight library for creating web applications. In this guide, we'll show how you can use Guess.js to <strong>predictively prefetch</strong> pages in your application using Guess.js.</p>\n<div style=\"background-color: #e7f4ff; border-radius: 5px; padding: 20px; margin-bottom: 20px;\">\nYou can find the source code for the application on <a href=\"https://github.com/mgechev/guess-next\">GitHub</a>.\n</div>\n<h3>Initializing the Application</h3>\n<p>First, create a directory called <code class=\"language-text\">guess-next</code> and a file <code class=\"language-text\">package.json</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> guess-next <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">cd</span> guess-next <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">touch</span> package.json</code></pre></div>\n<p>Inside <code class=\"language-text\">package.json</code> add the following content:</p>\n<div class=\"gatsby-highlight\" data-language=\"json\"><pre class=\"language-json\"><code class=\"language-json\"><span class=\"token punctuation\">{</span>\n  <span class=\"token property\">\"name\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"guess-next\"</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"scripts\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"start\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"build\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"next build\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"export\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"npm run build &amp;&amp; next export -o guess\"</span>\n  <span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>\n  <span class=\"token property\">\"dependencies\"</span><span class=\"token operator\">:</span> <span class=\"token punctuation\">{</span>\n    <span class=\"token property\">\"next\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^6.1.1\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"react-dom\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^16.0.0\"</span><span class=\"token punctuation\">,</span>\n    <span class=\"token property\">\"guess-webpack\"</span><span class=\"token operator\">:</span> <span class=\"token string\">\"^0.1.6\"</span>\n  <span class=\"token punctuation\">}</span>\n<span class=\"token punctuation\">}</span></code></pre></div>\n<p>In the snippet above we create a new Node.js project called <code class=\"language-text\">guess-next</code> and declare its dependencies. We also declare two scripts:</p>\n<ul>\n<li><code class=\"language-text\">start</code> -</li>\n<li><code class=\"language-text\">build</code> - this script will build our application using <code class=\"language-text\">next</code> from <code class=\"language-text\">node_modules/.bin/next</code></li>\n<li><code class=\"language-text\">export</code> - running <code class=\"language-text\">npm run export</code> will first build our application and after that export its static files to a directory called <code class=\"language-text\">guess</code></li>\n</ul>\n<p>As next step run:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">npm</span> i</code></pre></div>\n<h3>Application Layout</h3>\n<p>Now, let us create the application layout. In the <code class=\"language-text\">guess-next</code> directory, create a folder <code class=\"language-text\">components</code> and add a file called <code class=\"language-text\">layout.js</code>:</p>\n<div class=\"gatsby-highlight\" data-language=\"bash\"><pre class=\"language-bash\"><code class=\"language-bash\"><span class=\"token function\">mkdir</span> components <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">cd</span> components <span class=\"token operator\">&amp;&amp;</span> <span class=\"token function\">touch</span> layout.js</code></pre></div>\n<p>Inside <code class=\"language-text\">layout.js</code> add the following content:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> withRouter <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'next/router'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> <span class=\"token punctuation\">{</span> guess <span class=\"token punctuation\">}</span> <span class=\"token keyword\">from</span> <span class=\"token string\">'guess-webpack/api'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">import</span> Link <span class=\"token keyword\">from</span> <span class=\"token string\">'next/link'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Head <span class=\"token keyword\">from</span> <span class=\"token string\">'next/head'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">const</span> layout <span class=\"token operator\">=</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">{</span> router<span class=\"token punctuation\">,</span> children<span class=\"token punctuation\">,</span> title <span class=\"token operator\">=</span> <span class=\"token string\">'ðŸ”® Next.js + Guess.js'</span> <span class=\"token punctuation\">}</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">{</span>\n  <span class=\"token keyword\">return</span> <span class=\"token punctuation\">(</span>\n    <span class=\"token operator\">&lt;</span>div<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>Head<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>title<span class=\"token operator\">></span><span class=\"token punctuation\">{</span>title<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>title<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>meta charSet<span class=\"token operator\">=</span><span class=\"token string\">\"utf-8\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>meta name<span class=\"token operator\">=</span><span class=\"token string\">\"viewport\"</span> content<span class=\"token operator\">=</span><span class=\"token string\">\"initial-scale=1.0, width=device-width\"</span> <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Head<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>header<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span>nav<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token string\">\"/\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span>Home<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token string\">' '</span><span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token string\">\"/example\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span>Example<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span><span class=\"token punctuation\">{</span><span class=\"token string\">' '</span><span class=\"token punctuation\">}</span>\n          <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token string\">\"/about\"</span><span class=\"token operator\">></span>\n            <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span>About<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n          <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n        <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>nav<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>header<span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>div className<span class=\"token operator\">=</span><span class=\"token string\">\"content\"</span><span class=\"token operator\">></span><span class=\"token punctuation\">{</span>children<span class=\"token punctuation\">}</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>div<span class=\"token operator\">></span>\n  <span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span>\n<span class=\"token punctuation\">}</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token function\">withRouter</span><span class=\"token punctuation\">(</span>layout<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>The component above defines the structure of the page. Inside of it, we create a navigation with three links: <code class=\"language-text\">/</code>, <code class=\"language-text\">/examples</code>, and <code class=\"language-text\">/about</code>. After that, we add a <code class=\"language-text\">div</code> with attribute <code class=\"language-text\">className</code>, which has value <code class=\"language-text\">content</code>.</p>\n<p>Inside of this element we render the children elements which are passed to the layout component. For example:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token operator\">&lt;</span>layout<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span>span<span class=\"token operator\">></span>Hello<span class=\"token punctuation\">,</span> Guess<span class=\"token punctuation\">.</span>js<span class=\"token operator\">!</span><span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>span<span class=\"token operator\">></span>\n<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>layout<span class=\"token operator\">></span></code></pre></div>\n<p>The snippet above will render the <code class=\"language-text\">span</code> element with content \"Hello, Guess.js!\" inside of the <code class=\"language-text\">.content</code> element of the layout component.</p>\n<h3>Creating Pages</h3>\n<p>Now in <code class=\"language-text\">guess-next</code> create a directory called <code class=\"language-text\">pages</code> and add the following files:</p>\n<div class=\"gatsby-highlight\" data-language=\"text\"><pre class=\"language-text\"><code class=\"language-text\">pages/\nâ”œâ”€â”€ about.js\nâ”œâ”€â”€ example.js\nâ”œâ”€â”€ index.js\nâ””â”€â”€ media.js</code></pre></div>\n<p>As content of all of the files set the following JavaScript:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/layout'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout<span class=\"token operator\">></span>\n    <span class=\"token punctuation\">[</span><span class=\"token constant\">PAGE_NAME</span><span class=\"token punctuation\">]</span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>Replace <code class=\"language-text\">[PAGE_NAME]</code> with the name of the corresponding page. For example, in <code class=\"language-text\">media.js</code> replace <code class=\"language-text\">[PAGE_NAME]</code> with <code class=\"language-text\">Media</code>.</p>\n<p>Inside of <code class=\"language-text\">about.js</code>, also add a <code class=\"language-text\">Link</code> to the <code class=\"language-text\">media</code> page:</p>\n<div class=\"gatsby-highlight\" data-language=\"javascript\"><pre class=\"language-javascript\"><code class=\"language-javascript\"><span class=\"token keyword\">import</span> <span class=\"token operator\">*</span> <span class=\"token keyword\">as</span> React <span class=\"token keyword\">from</span> <span class=\"token string\">'react'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Layout <span class=\"token keyword\">from</span> <span class=\"token string\">'../components/layout'</span><span class=\"token punctuation\">;</span>\n<span class=\"token keyword\">import</span> Link <span class=\"token keyword\">from</span> <span class=\"token string\">'next/link'</span><span class=\"token punctuation\">;</span>\n\n<span class=\"token keyword\">export</span> <span class=\"token keyword\">default</span> <span class=\"token punctuation\">(</span><span class=\"token punctuation\">)</span> <span class=\"token operator\">=></span> <span class=\"token punctuation\">(</span>\n  <span class=\"token operator\">&lt;</span>Layout<span class=\"token operator\">></span>\n    About\n    <span class=\"token operator\">&lt;</span>br <span class=\"token operator\">/</span><span class=\"token operator\">></span>\n    You can find the<span class=\"token punctuation\">{</span><span class=\"token string\">' '</span><span class=\"token punctuation\">}</span>\n    <span class=\"token operator\">&lt;</span>Link href<span class=\"token operator\">=</span><span class=\"token string\">\"/media\"</span><span class=\"token operator\">></span>\n      <span class=\"token operator\">&lt;</span>a<span class=\"token operator\">></span>media page here<span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>a<span class=\"token operator\">></span>\n    <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Link<span class=\"token operator\">></span>\n  <span class=\"token operator\">&lt;</span><span class=\"token operator\">/</span>Layout<span class=\"token operator\">></span>\n<span class=\"token punctuation\">)</span><span class=\"token punctuation\">;</span></code></pre></div>\n<p>At this stage, when you run <code class=\"language-text\">npm start</code> and you open <a href=\"http://localhost:3000\">http://localhost:3000</a>, your application should look like below:</p>\n<img src=\"/images/next.gif\" alt=\"Next.js application\" style=\"display: block; max-width: 400px;\">\n<h3>Configuring Guess.js</h3>","frontmatter":{"path":"/docs/next","title":"Using Guess.js with Next.js"}}},"pageContext":{}}